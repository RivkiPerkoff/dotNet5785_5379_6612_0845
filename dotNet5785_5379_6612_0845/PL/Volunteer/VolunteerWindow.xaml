<Window x:Class="PL.Volunteer.VolunteerWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:bo="clr-namespace:BL.BO;assembly=BL"
        xmlns:local="clr-namespace:PL.Volunteer"
        xmlns:sys="clr-namespace:System;assembly=mscorlib"
        Title="Volunteer Details"
        Height="550" Width="520"
        Background="#FAFAFA"
        FontFamily="Segoe UI"
        FontSize="14"
        WindowStartupLocation="CenterScreen">

    <Window.Resources>
        <ObjectDataProvider MethodName="GetValues" ObjectType="{x:Type sys:Enum}" x:Key="RoleCollection">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="bo:Role"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>

        <ObjectDataProvider MethodName="GetValues" ObjectType="{x:Type sys:Enum}" x:Key="DistanceTypeCollection">
            <ObjectDataProvider.MethodParameters>
                <x:Type TypeName="bo:DistanceType"/>
            </ObjectDataProvider.MethodParameters>
        </ObjectDataProvider>

        <BooleanToVisibilityConverter x:Key="BoolToVis"/>
    </Window.Resources>

    <Grid Margin="20" DataContext="{Binding CurrentVolunteer}">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="150"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Volunteer ID -->
        <Label Grid.Row="0" Grid.Column="0" Content="ID:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="0" Grid.Column="1"
                 Text="{Binding VolunteerId, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                 IsReadOnly="{Binding DataContext.IsEditMode, RelativeSource={RelativeSource AncestorType=Window}}"/>

        <!-- Name -->
        <Label Grid.Row="1" Grid.Column="0" Content="Name:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="1" Grid.Column="1" Text="{Binding Name, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- Email -->
        <Label Grid.Row="2" Grid.Column="0" Content="Email:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="2" Grid.Column="1" Text="{Binding EmailOfVolunteer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- Phone -->
        <Label Grid.Row="3" Grid.Column="0" Content="Phone Number:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="3" Grid.Column="1" Text="{Binding PhoneNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- Password -->
        <Label Grid.Row="4" Grid.Column="0" Content="Password:" VerticalAlignment="Center"/>
        <PasswordBox Grid.Row="4" Grid.Column="1" PasswordChanged="PasswordBox_PasswordChanged"/>

        <!-- Address -->
        <Label Grid.Row="5" Grid.Column="0" Content="Address:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="5" Grid.Column="1" Text="{Binding AddressVolunteer, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- IsAvailable -->
        <Label Grid.Row="6" Grid.Column="0" Content="Is Available:" VerticalAlignment="Center"/>
        <CheckBox Grid.Row="6" Grid.Column="1" IsChecked="{Binding IsAvailable, Mode=TwoWay}"/>

        <!-- Max Distance -->
        <Label Grid.Row="7" Grid.Column="0" Content="Max Distance:" VerticalAlignment="Center"/>
        <TextBox Grid.Row="7" Grid.Column="1" Text="{Binding MaximumDistanceForReceivingCall, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>

        <!-- Distance Type -->
        <Label Grid.Row="8" Grid.Column="0" Content="Distance Type:" VerticalAlignment="Center"/>
        <ComboBox Grid.Row="8" Grid.Column="1"
                  ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=DistanceTypeCollection}"
                  SelectedItem="{Binding DistanceType, Mode=TwoWay}"/>

        <!-- Role -->
        <Label Grid.Row="9" Grid.Column="0" Content="Role:" VerticalAlignment="Center"/>
        <ComboBox Grid.Row="9" Grid.Column="1"
                  ItemsSource="{Binding RelativeSource={RelativeSource AncestorType=Window}, Path=RoleCollection}"
                  SelectedItem="{Binding Role, Mode=TwoWay}" />

        <!-- Current Call -->
        <GroupBox Grid.Row="10" Grid.ColumnSpan="2" Header="Current Call" Margin="0,10,0,0">
            <TextBlock Text="{Binding DataContext.CurrentCallInfo, RelativeSource={RelativeSource AncestorType=Window}}"
                       Padding="8"
                       TextWrapping="Wrap"/>
        </GroupBox>

        <!-- Add/Update Button -->
        <Button Grid.Row="11" Grid.ColumnSpan="2"
                Content="{Binding ButtonText, RelativeSource={RelativeSource AncestorType=Window}}"
                Click="btnAddUpdate_Click"
                Margin="0,20,0,0"
                Width="140" Height="40" HorizontalAlignment="Center"
                Background="CadetBlue" Foreground="White" FontWeight="SemiBold" BorderBrush="CadetBlue" BorderThickness="1">
            <Button.Template>
                <ControlTemplate TargetType="Button">
                    <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="8">
                        <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                </ControlTemplate>
            </Button.Template>
        </Button>
    </Grid>
</Window>
